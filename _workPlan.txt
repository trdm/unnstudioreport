http://docs.google.com/Doc?docid=0AScPGlzX52sqZGZndDM2cTdfN3RoZzJxZGZm&hl=ru
[version - 1.0]
* [ок] Реализовать прямой ввод в текста ячейку.
* [ок] Реализовать механизм регулирования высоты строки в зависимости от её текста и свойств переноса.
* [ок] реализовать считывание документа из xml.
* [ок] реализовать авто-размер поля ввода текста ячейки.
* [ок] Перекалькуляция размеров РЕГИОНОВ СЕКЦИЙ.
* [ок] доделать: class uoSpanScaner01 : public uoSpanTreeScan
* [ок/2]Реализовать механизм печати текста по соседним ячейкам, если он не помещается в одной и соседние ячейки пусты.
* [ок/2] Реализовать отрисовку и редактирование секций.
* [ок] При выделении ячейки с пом. мышки необходимо устанавливать текущую ячейку ту, над которой кончилось выделение.
* [ок/2] Нужно на всякий пожарный так же добавить определение private конструктора
	копирования и оператора копирующего присваивания, чтобы невозможно было случайно контрол скопировать.
* [ok] В механизме Ундо-редо продумать+сделать апдейтинг полотна отчета.
* [ok] Диалог свойств плохо реагирует на Cansel.
* [ok] Отрисовка рамок и работа со свойствами рамок.
* [ok] populatePropEditor(uoReportPropEditor* propEditor) <<< имплементировать.
* [ok] Реализовать отрисовку и заполнение свойств бордюров.
* [ok/99] Доделать fonf-dialog в палитре свойств. (цвет недоделан.)
* [ok/99] поработать со скролом. 1) Странное поведение линейки прокрутки, если я просто щёлкаю по ячейкам, всё ниже и ниже, линейка прокрутки уменьшается в размерах, хотя я ещё не вышел за поля.
* вывод на печать: 
*-[ok]диапазоны страниц, 
*-[ok]подгон под ширину листа.
* [ok] Перенести возможность загрузки текстового файла из main.cpp в код документа, добавить опцию в меню и 
* [ok] сделать индикатор загрузки....
* [ok] добавить опцию: создание матрицы
* [ok] - сделать в лоадере считывание матриц....
* [ok/2]Копирование/вставка/драг-дроп. 
* [ok/2]- uorMimeData + надо составить план и его держаться....
* [ok]-- Сериализация (документа|части документа) в QTextSteam->QByteArray, c спом. селекшиона.
* Сделать возможным выделять строки и столбцы с клавиатуры... 
* [ok] Баг!!!!!!!!!!! не копируется с выделением uoRst_Unknown = фактически это ячейка.
* [??] (не могу поймать) бага - при вставке/удалении первых столбцов/строк не прорисовывается правая/нижняя часть листа.
* ОПТИМИЗАЦИЯ!!!!  ПРОФАЙЛИНГГГГГ
*- QString uoCell::getTextWithLineBreak(bool drawInv)
*- тестирование class uoNumVector (удаление.)
* Объединения ячеек О_о...
*-- Думаю я неправильно сделал объединение, необходимо расчитывать его ректы при форматировании. прийдется паеределывать...
* сделать отрисовку на Win API для Windows.
* Реализовать поиск в отчете.
* Реализовать механизм Ундо-редо.
* Реализовать графические примитивы: линию, картинку, рамку с текстом, прямоугольник. редактирование, заполнение, отрисовку.
* быстрое выделение строки/столбца, например, по сtrl+shift+up(down).
* есть мысля по оптимизации памяти, нафига эти структуры: 
	uorTextDecor* m_textProp;
	uorBorderPropBase* m_borderProp;
	можно ведь хранить идентификаторы сопоставимых конструкций, а в uoCell писать только их номер в коллекции..
* сделать выделение диапазона строк/столбцов с зажатым шифтом.
* Реализовать установку разрывов страниц в отчете.
* Реализовать работу с колонтитулами: редактирование, расчет, их вывод в отчет.
* Оптимизация: вычислить текущую ячейку и при её смене не перерисовывать полотно, а перерисовать ячейку.
* По двойному щелчку на пустую ячейку появляется делегат с виджетом-редактором как для чисел (SpinBox), а водить можно не только числа, лучше его убрать. (маленький размер поля ввода)
* Реализовать определение участка клика мышки, если он находится на выделении проработать меню..
* [ok] Баг: текст отрисовывается с m_firstVisible_ColLeft пока не наберется нужной длинны строки.	Если имеем длинные строки и проскролим вправо, то эти строки отрисовываться не будут.
* Сериализация - сделать сериализацию и восстановление свойств документа uorTextDecor и таких-же свойст хейдеров.
* Баг: неправильно расчитывается линия, показывающая изменение ширины высоты ячеек линейек, если масштаб <> 100.

* [OK] Сделать акселератор поиска для uoNumVector.
* [OK] Попробовать оптимизировать доступ к ячейкам/строкам и столбцам. Тормозит при большом масштабе.

* Додумать логику работы палитры свойств - в смысле какие атрибуты есть у:
	- Документа в целом;
	- Набора строк/столбцов.
	- ячеек и групп ячеек.
* Скомпоновать в библиотеку.

[version - 2.0]
* нужен внутренний, более компактный формат сериализации.
* -- Драг-дроп доделать.. а может ну его нафиг? :(
* (отложил) Реализовать фиксацию областей просмотра отчета.	(определить данные областей. 
* !Не буду делать пока свойства текста для строк и столбцов. А прийдется :((((((((((((


Qt-Виктор (19:19:44 23/01/2010)
у Вас есть такой файлик uoReportDrawHelper.cpp, там есть void uoReportDrawHelper::drawCell
          if (uoCTT_Templ == textTp )     {
               text = "{" + text + "}";
               addChrs = addChrs + "{}";
          } else if (uoCTT_Expr  == textTp) {
               //////////////////////////////////////////////////////////////////////////
               const int iAccuracy = 4;
              

				text.replace(" ", "").replace("\n", "").replace("\t", "");
               if(text.at(0) != QChar('=')){
                    text = text;
               }else{
                    for(int iC = 1; iC <= doc->getColCount(); iC ++){
                         for(int iR = 1; iR <= doc->getRowCount(); iR ++){
                              // SUM RegExp
                              if(text.contains(QString("[%1:%2]").arg(iC).arg(iR), Qt::CaseSensitive)){
                                   double dValue = doc->getCellText(iR, iC).toDouble();
                                   dValue = dValue < 0 ? 0 : dValue;
                                   text.replace(QString("[%1:%2]").arg(iC).arg(iR), QString::number(dValue));
                              }
                         }
                    }
                    text.replace("=", "");
                    text = QScriptEngine().evaluate(text).toString().replace(".", ",");
                    if(text.contains("Error")){
                         text = "@Error";
                    }else{
                         double dValue = text.toDouble();
                         text = QString().setNum(dValue, 'f', iAccuracy);
                    }
               }
               //////////////////////////////////////////////////////////////////////////
               addChrs = addChrs + "<>";
          }
		  //и считаются люьые формулы )
		  //Маньяк ))))))